<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AI Response Generator </title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <h1>"AI Prompt"</h1>
    <p> Enter your prompt here : </p>

    <textarea id="userPrompt" rows="5" cols="40" placeholder="Type Something Here"></textarea> <br><br>

    <button onclick="sendPrompt()">Generate a Response with AI</button>

    <h3>Status:</h3>
    <p id="status"></p>

    <h3>AI Response:</h3>
    <p id="response"></p>

<script>
function sendPrompt() {
    let prompt = document.getElementById("userPrompt").value;

    fetch("/api/ai/prompt", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({ prompt: prompt })
    })
    .then(async (res) => {
        document.getElementById("status").innerText = res.status; // show status code
        let data = await res.json();
        document.getElementById("response").innerText = data.message;
    })
    .catch(err => {
        document.getElementById("status").innerText = "Error";
        document.getElementById("response").innerText = err;
    });
}
</script>
</body>
</html>


